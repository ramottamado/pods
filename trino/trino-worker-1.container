[Unit]
Description=Trino Worker Node 1
PartOf=trino-cluster.target
Requires=trino-coord.container
After=trino-coord.container

[Service]
Restart=on-failure
SuccessExitStatus=143

[Container]
Image=docker.io/trinodb/trino:latest
AutoUpdate=registry
DNS=10.88.0.2
IP=10.88.0.41
HostName=trino-worker-1.saoirse.home.arpa
Secret=type=env,source=versitygw-root-access-key,target=S3_ACCESS_KEY
Secret=type=env,source=versitygw-root-secret-key,target=S3_SECRET_KEY
Secret=type=env,source=postgres-password,target=POSTGRES_PASSWORD
Volume=/var/containers/trino-worker-1/data:/data:z
Volume=/var/containers/trino-worker-1/etc:/etc/trino:z
Volume=/var/containers/trino-catalog:/etc/trino/catalog:z
PodmanArgs=--cpus=2
